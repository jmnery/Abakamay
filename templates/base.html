<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}My App{% endblock %}</title>

    <style>
      :root {
        --primary-color: #007ea7;
        --black: #353a47;
        --red: #ce4760;
        --green: #43b751;
        --dark-green: #339e5f;
        --light-green: #72d47d;
        --light-red: #db7286;
      }
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }
      @font-face {
        font-family: "Montserrat";
        src: url("{{ url_for('static', filename='assets/Montserrat-VariableFont_wght.ttf') }}")
          format("truetype");
        font-weight: 100 900; /* Adjust the weight if needed */
        font-style: normal;
      }
      .content {
        flex: 1;
        background-color: rgb(236, 244, 245);
        font-family: "Montserrat", sans-serif;
      }
      .navbar {
        margin-bottom: 0;
        padding-left: 30px !important;
        padding-right: 30px !important;
        background-color: var(--black);
        display: flex; /* Enable flexbox on navbar */
        justify-content: space-between; /* Space between brand and nav items */
        align-items: center; /* Center items vertically */
      }
      .navbar-brand {
        font-weight: bold;
        margin-right: 0 !important;
        min-width: 200px;
        z-index: 99;
      }
      .navbar-nav {
        flex: 1; /* Allow the navbar items to grow and fill the space */
        display: flex; /* Enable flexbox */
        justify-content: center; /* Center the items horizontally */
      }
      @media (min-width: 992px) {
        .navbar-nav {
          margin-left: -200px !important; /* Apply negative margin on larger screens */
        }
      }
      .navbar-nav .nav-item {
        display: flex; /* Enables flexbox on nav items */
        align-items: center; /* Centers items vertically */
      }
    </style>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />

    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
    />

    <script
      src="https://kit.fontawesome.com/3a0fa80045.js"
      crossorigin="anonymous"
    ></script>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Bootstrap JavaScript -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/11.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.0.0/firebase-firestore-compat.js"></script>
  </head>
  <body>
    <div class="content">{% block content %}{% endblock %}</div>
    <!-- Loading Modal -->
    <div
      class="modal"
      id="mainLoadingModal"
      tabindex="-1"
      aria-labelledby="mainLoadingModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content">
          <div class="modal-header" style="background-color: var(--black)">
            <h5
              class="modal-title"
              id="mainLoadingModalLabel"
              style="color: white"
            >
              Loading...
            </h5>
          </div>
          <div
            class="modal-body text-center d-flex align-items-center justify-content-center"
            style="padding: 25px"
          >
            <div class="spinner-border text-primary me-2" role="status"></div>
            <span id="loadingMessage">Loading...</span>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    $(document).ready(function () {
      $('[data-toggle="popover"]').popover({
        trigger: "hover", // You can change this to 'click' if preferred
        html: true, // Allow HTML content
      });
    });
    function showLoadingModal(message) {
      // Set custom title and message
      document.getElementById("loadingMessage").innerText = message;

      // Show the loading modal
      $("#mainLoadingModal").modal("show");
    }
    function redirectTo(message, url) {
      // Set custom title and message
      document.getElementById("loadingMessage").innerText = message;

      // Show the loading modal
      $("#mainLoadingModal").modal("show");
      location.href = url;
    }

    // Handle page show event
    window.addEventListener("pageshow", function (event) {
      $("#mainLoadingModal").modal("hide");
    });
  </script>
</html>
